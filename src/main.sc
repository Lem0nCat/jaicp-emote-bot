require: patterns/emoji.sc
require: lib/responses.js
require: lib/responseProcess.js


theme: /

    state: Start
        q!: $regex</start>
        go!: /Hello


    state: Hello
        timeout: /GoodBye || interval = "5m"
        a: –ü—Ä–∏–≤–µ—Ç! üëã –Ø –±–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–Ω–∏–º–∞–µ—Ç –≤–∞—à–∏ —ç–º–æ—Ü–∏–∏ —á–µ—Ä–µ–∑ —Å–º–∞–π–ª–∏–∫–∏. –í–æ—Ç –ø—Ä–∏–º–µ—Ä—ã —Å–º–∞–π–ª–∏–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —è –ø–æ–Ω–∏–º–∞—é:
        a: üòÄ üòä üòÑ - –µ—Å–ª–∏ –≤–∞–º –≤–µ—Å–µ–ª–æ\nüòî üôÅ üò´ - –µ—Å–ª–∏ –≤–∞–º –≥—Ä—É—Å—Ç–Ω–æ\nüò† üëø üò§ - –µ—Å–ª–∏ –≤—ã —Ä–∞–∑–¥—Ä–∞–∂–µ–Ω—ã
        script:
            # –û–±–Ω—É–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å–µ—Å—Å–∏–∏
            $context.session = {};

    # –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–∞–¥–æ—Å—Ç–Ω–æ–µ —ç–º–æ–¥–∑–∏
    state: Happy
        q!: $happyEmoji
        # –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –≤ —Ç–µ—á–µ–Ω–∏–∏ 5 –º–∏–Ω—É—Ç, —Ç–æ —Å–µ—Å—Å–∏—è –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è
        timeout: /GoodBye || interval = "5m"
        # –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω—É–∂–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
        a: {{ processEmotionResponse("happy", $session.prevEmotion, $request.query) }}
        script:
            # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ —ç–º–æ–¥–∑–∏
            $session.prevEmotion = "happy"

    # –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –≥—Ä—É—Å—Ç–Ω–æ–µ —ç–º–æ–¥–∑–∏
    state: Sad
        q!: $sadEmoji
        timeout: /GoodBye || interval = "5m"
        a: {{ processEmotionResponse("sad", $session.prevEmotion, $request.query) }}
        script:
            $session.prevEmotion = "sad"

    # –ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–ª–æ–µ —ç–º–æ–¥–∑–∏
    state: Angry
        q!: $angryEmoji
        timeout: /GoodBye || interval = "5m"
        a: {{ processEmotionResponse("angry", $session.prevEmotion, $request.query) }}
        script:
            $session.prevEmotion = "angry"

    # –î–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–µ—Å—Å–∏–∏ –ø–æ—Å–ª–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è
    state: GoodBye
        random:
            a: –ö–∞–∂–µ—Ç—Å—è, –Ω–∞—à —Ä–∞–∑–≥–æ–≤–æ—Ä –ø–æ–¥–æ—à–µ–ª –∫ –∫–æ–Ω—Ü—É. –ë—ã–ª–æ –ø—Ä–∏—è—Ç–Ω–æ –ø–æ–æ–±—â–∞—Ç—å—Å—è! üëã
            a: –ù–∞–¥–µ—é—Å—å, –º—ã –µ—â–µ —É–≤–∏–¥–∏–º—Å—è! –í—Å–µ–≥–æ –¥–æ–±—Ä–æ–≥–æ! üëã
            a: –í—Ä–µ–º—è –Ω–∞—à–µ–π –±–µ—Å–µ–¥—ã –∏—Å—Ç–µ–∫–ª–æ. –î–æ –Ω–æ–≤—ã—Ö –≤—Å—Ç—Ä–µ—á! üëã
        script:
            $jsapi.stopSession();

    # –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥—Ä—É–≥–æ–π —ç–º–æ–¥–∑–∏ –∏–ª–∏ —ç–º–æ–¥–∑–∏ —Å —Ç–µ–∫—Å—Ç–æ–º
    state: CatchAll
        event!: noMatch
        timeout: /GoodBye || interval = "5m"
        random:
            a: –ò–∑–≤–∏–Ω–∏—Ç–µ, –Ω–æ —è –ø–æ–Ω—è–ª –≤–∞—à–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–¥–∏–Ω –∏–∑ —ç—Ç–∏—Ö —ç–º–æ–¥–∑–∏: üòÄ üòî üò†
            a: –ú–Ω–µ —Ç—Ä—É–¥–Ω–æ –≤–∞—Å –ø–æ–Ω—è—Ç—å. –î–∞–≤–∞–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç–º–æ–¥–∑–∏ —Ä–∞–¥–æ—Å—Ç–∏ (üòÄ), –≥—Ä—É—Å—Ç–∏ (üòî) –∏–ª–∏ –∑–ª–æ—Å—Ç–∏ (üò†)
        script:
            # –û–±–Ω—É–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å–µ—Å—Å–∏–∏
            $context.session = {};

    state: Match
        event!: match
        a: {{$context.intent.answer}}
